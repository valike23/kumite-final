(window.webpackJsonp=window.webpackJsonp||[]).push([[5],[,,,function(e,t,n){"use strict";var r=n(17);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new i},s=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,l=n(15)(),f=n(16)(),p=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),h={},y="undefined"!=typeof Uint8Array&&p?p(Uint8Array):void 0,d={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l&&p?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&p?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l&&p?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l&&p?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&p?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":s,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));d["%Error.prototype%"]=v}var m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(3),b=n(18),w=g.call(Function.call,Array.prototype.concat),_=g.call(Function.apply,Array.prototype.splice),x=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),k=g.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,A=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return x(e,E,(function(e,t,n,r){o[o.length]=n?x(r,P,"$1"):t||e})),o},S=function(e,t){var n,o=e;if(b(m,o)&&(o="%"+(n=m[o])[0]+"%"),b(d,o)){var u=d[o];if(u===h&&(u=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&p&&(n=p(o.prototype))}return d[t]=n,n}(o)),void 0===u&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:u}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A(e),o=n.length>0?n[0]:"",a=S("%"+o+"%",t),c=a.name,s=a.value,l=!1,f=a.alias;f&&(o=f[0],_(n,w([0,1],f)));for(var p=1,h=!0;p<n.length;p+=1){var y=n[p],v=O(y,0,1),m=O(y,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new r("property names with quotes must have matching quotes");if("constructor"!==y&&h||(l=!0),b(d,c="%"+(o+="."+y)+"%"))s=d[c];else if(null!=s){if(!(y in s)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&p+1>=n.length){var g=u(s,y);s=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[y]}else h=b(s,y),s=s[y];h&&!l&&(d[c]=s)}}return s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return fr}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,u=Object.keys,c=Array.isArray;function s(e,t){return"object"!=typeof t||u(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||a.Promise||(a.Promise=Promise);var l=Object.getPrototypeOf,f={}.hasOwnProperty;function p(e,t){return f.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?u:Reflect.ownKeys)(t).forEach((function(n){d(e,n,t[n])}))}var y=Object.defineProperty;function d(e,t,n,r){y(e,t,s(n&&p(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function v(e){return{from:function(t){return e.prototype=Object.create(t.prototype),d(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var m=Object.getOwnPropertyDescriptor;function g(e,t){var n;return m(e,t)||(n=l(e))&&g(n,t)}var b=[].slice;function w(e,t,n){return b.call(e,t,n)}function _(e,t){return t(e)}function x(e){if(!e)throw new Error("Assertion Failed")}function O(e){a.setImmediate?setImmediate(e):setTimeout(e,0)}function k(e,t){if(p(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=k(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:k(u,t.substr(a+1))}}function E(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){x("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)E(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),u=t.substr(i+1);if(""===u)void 0===n?c(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];s&&p(e,a)||(s=e[a]={}),E(s,u,n)}}else void 0===n?c(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function P(e){var t={};for(var n in e)p(e,n)&&(t[n]=e[n]);return t}var A=[].concat;function S(e){return A.apply([],e)}var j="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(S([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return a[e]})),I=new Set(j.map((function(e){return a[e]})));var K=null;function C(e){K=new WeakMap;var t=function e(t){if(!t||"object"!=typeof t)return t;var n=K.get(t);if(n)return n;if(c(t)){n=[],K.set(t,n);for(var r=0,o=t.length;r<o;++r)n.push(e(t[r]))}else if(I.has(t.constructor))n=t;else{var i=l(t);for(var a in n=i===Object.prototype?{}:Object.create(i),K.set(t,n),t)p(t,a)&&(n[a]=e(t[a]))}return n}(e);return K=null,t}var T={}.toString;function D(e){return T.call(e).slice(8,-1)}var q="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",F="symbol"==typeof q?function(e){var t;return null!=e&&(t=e[q])&&t.apply(e)}:function(){return null};function R(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n>=0}var B={};function M(e){var t,n,r,o;if(1===arguments.length){if(c(e))return e.slice();if(this===B&&"string"==typeof e)return[e];if(o=F(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var N="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},U="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function z(e,t){U=e,L=t}var L=function(){return!0},$=!new Error("").stack;function V(){if($)try{throw V.arguments,new Error}catch(e){return e}return new Error}function W(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(L).map((function(e){return"\n"+e})).join("")):""}var G=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],J=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(G),Y={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(e,t){this._e=V(),this.name=e,this.message=t}function Q(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function X(e,t,n,r){this._e=V(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Q(e,t)}function Z(e,t){this._e=V(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=Q(e,this.failures)}v(H).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+W(this._e,2))}},toString:function(){return this.name+": "+this.message}}),v(X).from(H),v(Z).from(H);var ee=J.reduce((function(e,t){return e[t]=t+"Error",e}),{}),te=H,ne=J.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=V(),this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=Y[t]||n,this.inner=null)}return v(r).from(te),e[t]=r,e}),{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var re=G.reduce((function(e,t){return e[t+"Error"]=ne[t],e}),{});var oe=J.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ne[t]),e}),{});function ie(){}function ae(e){return e}function ue(e,t){return null==e||e===ae?t:function(n){return t(e(n))}}function ce(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ce(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ce(o,this.onerror):o),void 0!==i?i:n}}function le(e,t){return e===ie?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ce(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ce(r,this.onerror):r)}}function fe(e,t){return e===ie?t:function(n){var r=e.apply(this,arguments);s(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ce(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ce(i,this.onerror):i),void 0===r?void 0===a?void 0:a:s(r,a)}}function pe(e,t){return e===ie?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function he(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}oe.ModifyError=X,oe.DexieError=H,oe.BulkError=Z;var ye={},de="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),ve=de[0],me=de[1],ge=de[2],be=me&&me.then,we=ve&&ve.constructor,_e=!!ge,xe=!1;var Oe=function(e,t){Ce.push([e,t]),Ee&&(queueMicrotask($e),Ee=!1)},ke=!0,Ee=!0,Pe=[],Ae=[],Se=null,je=ae,Ie={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ie,pgp:!1,env:{},finalize:ie},Ke=Ie,Ce=[],Te=0,De=[];function qe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=Ke;if(U&&(this._stackHolder=V(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Me(this,this._value))}this._state=null,this._value=null,++t.ref,Be(this,e)}var Fe={get:function(){var e=Ke,t=et;function n(n,r){var o=this,i=!e.global&&(e!==Ke||t!==et),a=i&&!ot(),u=new qe((function(t,u){Ue(o,new Re(ft(n,e,i,a),ft(r,e,i,a),t,u,e))}));return U&&Le(u,this),u}return n.prototype=ye,n},set:function(e){d(this,"then",e&&e.prototype===ye?Fe:{get:function(){return e},set:Fe.set})}};function Re(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Be(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ve();t&&"function"==typeof t.then?Be(e,(function(e,n){t instanceof qe?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ne(e)),n&&We()}}),Me.bind(null,e))}catch(t){Me(e,t)}}function Me(e,t){if(Ae.push(t),null===e._state){var n=e._lib&&Ve();t=je(t),e._state=!1,e._value=t,U&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((function(){var n=g(t,"stack");t._promise=e,d(t,"stack",{get:function(){return xe?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Pe.some((function(t){return t._value===e._value}))||Pe.push(e)}(e),Ne(e),n&&We()}}function Ne(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ue(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Te&&(++Te,Oe((function(){0==--Te&&Ge()}),[]))}function Ue(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Te,Oe(ze,[n,e,t])}else e._listeners.push(t)}function ze(e,t,n){try{Se=t;var r,o=t._value;t._state?r=e(o):(Ae.length&&(Ae=[]),r=e(o),-1===Ae.indexOf(o)&&function(e){var t=Pe.length;for(;t;)if(Pe[--t]._value===e._value)return void Pe.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Se=null,0==--Te&&Ge(),--n.psd.ref||n.psd.finalize()}}function Le(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function $e(){lt(Ie,(function(){Ve()&&We()}))}function Ve(){var e=ke;return ke=!1,Ee=!1,e}function We(){var e,t,n;do{for(;Ce.length>0;)for(e=Ce,Ce=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ce.length>0);ke=!0,Ee=!0}function Ge(){var e=Pe;Pe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=De.slice(0),n=t.length;n;)t[--n]()}function Je(e){return new qe(ye,!1,e)}function Ye(e,t){var n=Ke;return function(){var r=Ve(),o=Ke;try{return ct(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ct(o,!1),r&&We()}}}h(qe.prototype,{then:Fe,_then:function(e,t){Ue(this,new Re(null,null,e,t,Ke))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Je(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Je(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Je(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{xe=!0;var e=function e(t,n,r){if(n.length===r)return n;var o="";if(!1===t._state){var i,a,u=t._value;null!=u?(i=u.name||"Error",a=u.message||u,o=W(u,0)):(i=u,a=""),n.push(i+(a?": "+a:"")+o)}U&&((o=W(t._stackHolder,2))&&-1===n.indexOf(o)&&n.push(o),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{xe=!1}}},timeout:function(e,t){var n=this;return e<1/0?new qe((function(r,o){var i=setTimeout((function(){return o(new ne.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(qe.prototype,Symbol.toStringTag,"Dexie.Promise"),Ie.env=st(),h(qe,{all:function(){var e=M.apply(null,arguments).map(it);return new qe((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return qe.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof qe)return e;if(e&&"function"==typeof e.then)return new qe((function(t,n){e.then(t,n)}));var t=new qe(ye,!0,e);return Le(t,Se),t},reject:Je,race:function(){var e=M.apply(null,arguments).map(it);return new qe((function(t,n){e.map((function(e){return qe.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Ke},set:function(e){return Ke=e}},totalEchoes:{get:function(){return et}},newPSD:nt,usePSD:lt,scheduler:{get:function(){return Oe},set:function(e){Oe=e}},rejectionMapper:{get:function(){return je},set:function(e){je=e}},follow:function(e,t){return new qe((function(n,r){return nt((function(t,n){var r=Ke;r.unhandleds=[],r.onunhandled=n,r.finalize=ce((function(){var e=this;!function(e){De.push((function t(){e(),De.splice(De.indexOf(t),1)})),++Te,Oe((function(){0==--Te&&Ge()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),we&&(we.allSettled&&d(qe,"allSettled",(function(){var e=M.apply(null,arguments).map(it);return new qe((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return qe.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),we.any&&"undefined"!=typeof AggregateError&&d(qe,"any",(function(){var e=M.apply(null,arguments).map(it);return new qe((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return qe.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var He={awaits:0,echoes:0,id:0},Qe=0,Xe=[],Ze=0,et=0,tt=0;function nt(e,t,n,r){var o=Ke,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++tt;var a=Ie.env;i.env=_e?{Promise:qe,PromiseProp:{value:qe,configurable:!0,writable:!0},all:qe.all,race:qe.race,allSettled:qe.allSettled,any:qe.any,resolve:qe.resolve,reject:qe.reject,nthen:pt(a.nthen,i),gthen:pt(a.gthen,i)}:{},t&&s(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=lt(i,e,n,r);return 0===i.ref&&i.finalize(),u}function rt(){return He.id||(He.id=++Qe),++He.awaits,He.echoes+=100,He.id}function ot(){return!!He.awaits&&(0==--He.awaits&&(He.id=0),He.echoes=100*He.awaits,!0)}function it(e){return He.echoes&&e&&e.constructor===we?(rt(),e.then((function(e){return ot(),e}),(function(e){return ot(),ht(e)}))):e}function at(e){++et,He.echoes&&0!=--He.echoes||(He.echoes=He.id=0),Xe.push(Ke),ct(e,!0)}function ut(){var e=Xe[Xe.length-1];Xe.pop(),ct(e,!1)}function ct(e,t){var n=Ke;if((t?!He.echoes||Ze++&&e===Ke:!Ze||--Ze&&e===Ke)||queueMicrotask(t?at.bind(null,e):ut),e!==Ke&&(Ke=e,n===Ie&&(Ie.env=st()),_e)){var r=Ie.env.Promise,o=e.env;me.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function st(){var e=a.Promise;return _e?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:me.then,gthen:e.prototype.then}:{}}function lt(e,t,n,r,o){var i=Ke;try{return ct(e,!0),t(n,r,o)}finally{ct(i,!1)}}function ft(e,t,n,r){return"function"!=typeof e?e:function(){var o=Ke;n&&rt(),ct(t,!0);try{return e.apply(this,arguments)}finally{ct(o,!1),r&&queueMicrotask(ot)}}}function pt(e,t){return function(n,r){return e.call(this,ft(n,t),ft(r,t))}}-1===(""+be).indexOf("[native code]")&&(rt=ot=ie);var ht=qe.reject;var yt=String.fromCharCode(65535),dt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vt=[],mt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=mt,bt=mt,wt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function _t(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var xt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ot(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=C(t))[e],t}}function kt(){throw ne.Type()}function Et(e,t){try{var n=Pt(e),r=Pt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}(At(e),At(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var a=Et(e[i],t[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Pt(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=D(e);return"ArrayBuffer"===n?"binary":n}function At(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var St=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||Ke.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new ne.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var a=Ve();try{return r&&r.db===this.db?r===Ke.trans?r._promise(e,i,n):nt((function(){return r._promise(e,i,n)}),{trans:r,transless:Ke.transless||Ke}):function e(t,n,r,o){if(t.idbdb&&(t._state.openComplete||Ke.letThrough||t._vip)){var i=t._createTransaction(n,r,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===ee.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return e(t,n,r,o)}))):ht(i)}return i._promise(n,(function(e,t){return nt((function(){return Ke.trans=i,o(e,t,i)}))})).then((function(e){if("readwrite"===n)try{i.idbtrans.commit()}catch(e){}return"readonly"===n?e:i._completion.then((function(){return e}))}))}if(t._state.openComplete)return ht(new ne.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return ht(new ne.DatabaseClosed);t.open().catch(ie)}return t._state.dbReadyPromise.then((function(){return e(t,n,r,o)}))}(this.db,e,[this.name],i)}finally{a&&We()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(c(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=u(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(n&&this.db._maxKey!==yt){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((function(t){return e[t]})))}!n&&U&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a ")+"compound index [".concat(t.join("+"),"]"));var o=this.schema.idxByName,i=this.db._deps.indexedDB;function a(e,t){return 0===i.cmp(e,t)}var s=t.reduce((function(t,n){var r=t[0],i=t[1],u=o[n],s=e[n];return[r||u,r||!u?_t(i,u&&u.multi?function(e){var t=k(e,n);return c(t)&&t.some((function(e){return a(s,e)}))}:function(e){return a(s,k(e,n))}):i]}),[null,null]),l=s[0],f=s[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(f):n?this.filter(f):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,c(e)?"[".concat(e.join("+"),"]"):e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){var t=this.db,n=this.name;this.schema.mappedClass=e,e.prototype instanceof kt&&(e=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(o,e),Object.defineProperty(o.prototype,"db",{get:function(){return t},enumerable:!1,configurable:!0}),o.prototype.table=function(){return n},o}(e));for(var o=new Set,i=e.prototype;i;i=l(i))Object.getOwnPropertyNames(i).forEach((function(e){return o.add(e)}));var a=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(!o.has(r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=a,this.hook("reading",a),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){s(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Ot(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?qe.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{E(e,i,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof e||c(e))return this.where(":id").equals(e).modify(t);var n=k(e,this.schema.primKey.keyPath);return void 0===n?ht(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Ot(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?qe.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{E(e,i,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?qe.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:xt})})).then((function(e){return e.numFailures?qe.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=u&&a?e.map(Ot(u)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new Z("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(c," operations failed"),a)}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=u&&a?e.map(Ot(u)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new Z("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(c," operations failed"),a)}))}))},e.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map((function(e){return e.key})),o=e.map((function(e){return e.changes})),i=[];return this._trans("readwrite",(function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then((function(u){var c=[],s=[];e.forEach((function(e,n){var r=e.key,o=e.changes,a=u[n];if(a){for(var l=0,f=Object.keys(o);l<f.length;l++){var p=f[l],h=o[p];if(p===t.schema.primKey.keyPath){if(0!==Et(h,r))throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else E(a,p,h)}i.push(n),c.push(r),s.push(a)}}));var l=c.length;return n.mutate({trans:a,type:"put",keys:c,values:s,updates:{keys:r,changeSpecs:o}}).then((function(e){var n=e.numFailures,r=e.failures;if(0===n)return l;for(var o=0,a=Object.keys(r);o<a.length;o++){var u=a[o],c=i[Number(u)];if(null!=c){var s=r[u];delete r[u],r[c]=s}}throw new Z("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(l," operations failed"),r)}))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new Z("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))},e}();function jt(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return a(e);r||(r=pe),o||(o=ie);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function a(e){u(e).forEach((function(t){var n=e[t];if(c(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ne.InvalidArgument("Invalid event config");var r=i(t,ae,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){O((function(){e.apply(null,t)}))}))}))}}))}}function It(e,t){return v(t).from({prototype:e}),t}function Kt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ct(e,t){e.filter=_t(e.filter,t)}function Tt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return _t(r(),t())}:t,e.justLimit=n&&!r}function Dt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ne.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function qt(e,t,n){var r=Dt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ft(e,t,n,r){var o=e.replayFilter?_t(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),p(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Rt(qt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Rt(qt(e,r,n),_t(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Rt(e,t,n,r){var o=Ye(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=ie}),(function(t){e.fail(t),n=ie}))||o(e.value,e,(function(e){return n=e})),n()}))}))}var Bt=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,ht.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,ht.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=_t(t.algorithm,e)},e.prototype._iterate=function(e,t){return Ft(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return Ft(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Kt(n,!0))return r.count({trans:e,query:{index:Dt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return Ft(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Kt(n,!0)&&n.limit>0){var r=n.valueMapper,o=Dt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return Ft(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Kt(t)?Tt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Tt(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Tt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return Ct(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return Ct(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=_t(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&Kt(t,!0)&&t.limit>0)return this._read((function(e){var n=Dt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ct(this._ctx,(function(e){var t=e.primaryKey.toString(),r=p(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=u(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],u=e[o];k(t,o)!==u&&(E(t,o,u),n=!0)}return n}}var c=n.table.core,s=c.schema.primaryKey,l=s.outbound,f=s.extractKey,p=t.db._options.modifyChunkSize||200,h=[],y=0,d=[],v=function(e,t){var n=t.failures,r=t.numFailures;y+=e-r;for(var o=0,i=u(n);o<i.length;o++){var a=i[o];h.push(n[a])}};return t.clone().primaryKeys().then((function(t){var i=function(a){var u=Math.min(p,t.length-a);return c.getMany({trans:r,keys:t.slice(a,a+u),cache:"immutable"}).then((function(s){for(var h=[],y=[],d=l?[]:null,m=[],g=0;g<u;++g){var b=s[g],w={value:C(b),primKey:t[a+g]};!1!==o.call(w,w.value,w)&&(null==w.value?m.push(t[a+g]):l||0===Et(f(b),f(w.value))?(y.push(w.value),l&&d.push(t[a+g])):(m.push(t[a+g]),h.push(w.value)))}var _=Kt(n)&&n.limit===1/0&&("function"!=typeof e||e===Mt)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&c.mutate({trans:r,type:"add",values:h}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);v(h.length,e)}))).then((function(){return(y.length>0||_&&"object"==typeof e)&&c.mutate({trans:r,type:"put",keys:d,values:y,criteria:_,changeSpec:"function"!=typeof e&&e}).then((function(e){return v(y.length,e)}))})).then((function(){return(m.length>0||_&&e===Mt)&&c.mutate({trans:r,type:"delete",keys:m,criteria:_}).then((function(e){return v(m.length,e)}))})).then((function(){return t.length>a+u&&i(a+p)}))}))};return i(0).then((function(){if(h.length>0)throw new X("Error modifying one or more objects",h,y,d);return t.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return Kt(e)&&(e.isPrimKey&&!bt||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures;e.lastResult,e.results;var r=e.numFailures;if(r)throw new X("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(Mt)},e}(),Mt=function(e,t){return t.value=null};function Nt(e,t){return e<t?-1:e===t?0:1}function Ut(e,t){return e>t?-1:e===t?0:1}function zt(e,t,n){var r=e instanceof Jt?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Lt(e){return new e.Collection(e,(function(){return Gt("")})).limit(0)}function $t(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,c=0;c<a;++c){var s=t[c];if(s!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[c],s)<0&&(u=c)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function Vt(e,t,n,r){var o,i,a,u,c,s,l,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return zt(e,"String expected.");function p(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Nt:Ut;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),s=e,l="next"===e?"":r}p("next");var h=new e.Collection(e,(function(){return Wt(u[0],c[f-1]+r)}));h._ondirectionchange=function(e){p(e)};var y=0;return h._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var p=i(o);if(t(p,c,y))return!0;for(var h=null,d=y;d<f;++d){var v=$t(o,p,u[d],c[d],a,s);null===v&&null===h?y=d+1:(null===h||a(h,v)>0)&&(h=v)}return n(null!==h?function(){e.continue(h+l)}:r),!1})),h}function Wt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Gt(e){return{type:1,lower:e,upper:e}}var Jt=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Lt(this):new this.Collection(this,(function(){return Wt(e,t,!n,!r)}))}catch(e){return zt(this,dt)}},e.prototype.equals=function(e){return null==e?zt(this,dt):new this.Collection(this,(function(){return Gt(e)}))},e.prototype.above=function(e){return null==e?zt(this,dt):new this.Collection(this,(function(){return Wt(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?zt(this,dt):new this.Collection(this,(function(){return Wt(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?zt(this,dt):new this.Collection(this,(function(){return Wt(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?zt(this,dt):new this.Collection(this,(function(){return Wt(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?zt(this,"String expected."):this.between(e,e+yt,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Vt(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],yt)},e.prototype.equalsIgnoreCase=function(e){return Vt(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=M.apply(B,arguments);return 0===e.length?Lt(this):Vt(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=M.apply(B,arguments);return 0===e.length?Lt(this):Vt(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,yt)},e.prototype.anyOf=function(){var e=this,t=M.apply(B,arguments),n=this._cmp;try{t.sort(n)}catch(e){return zt(this,dt)}if(0===t.length)return Lt(this);var r=new this.Collection(this,(function(){return Wt(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=M.apply(B,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return zt(this,dt)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===e.length)return Lt(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var c=!t||!1!==t.includeLowers,s=t&&!0===t.includeUppers;var l,f=o;function p(e,t){return f(e[0],t[0])}try{(l=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=a(i[0],t[0]),i[1]=u(i[1],t[1]);break}}return n===o&&e.push(t),e}),[])).sort(p)}catch(e){return zt(this,dt)}var h=0,y=s?function(e){return o(e,l[h][1])>0}:function(e){return o(e,l[h][1])>=0},d=c?function(e){return i(e,l[h][0])>0}:function(e){return i(e,l[h][0])>=0};var v=y,m=new this.Collection(this,(function(){return Wt(l[0][0],l[l.length-1][1],!c,!s)}));return m._ondirectionchange=function(e){"next"===e?(v=y,f=o):(v=d,f=i),l.sort(p)},m._addAlgorithm((function(e,t,r){for(var i=e.key;v(i);)if(++h===l.length)return t(r),!1;return!!function(e){return!y(e)&&!d(e)}(i)||(0===n._cmp(i,l[h][1])||0===n._cmp(i,l[h][0])||t((function(){f===o?e.continue(l[h][0]):e.continue(l[h][1])})),!1)})),m},e.prototype.startsWithAnyOf=function(){var e=M.apply(B,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Lt(this):this.inAnyRange(e.map((function(e){return[e,e+yt]}))):zt(this,"startsWithAnyOf() only works with strings")},e}();function Yt(e){return Ye((function(t){return Ht(t),e(t.target.error),!1}))}function Ht(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Qt=jt(null,"storagemutated"),Xt=function(){function e(){}return e.prototype._lock=function(){return x(!Ke.global),++this._reculock,1!==this._reculock||Ke.global||(Ke.lockOwnerFor=this),this},e.prototype._unlock=function(){if(x(!Ke.global),0==--this._reculock)for(Ke.global||(Ke.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{lt(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&Ke.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(x(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(r);case"MissingAPIError":throw new ne.MissingAPI(r.message,r);default:throw new ne.OpenFailed(r)}if(!this.active)throw new ne.TransactionInactive;return x(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((function(n){Ht(n),t._reject(e.error)})),e.onabort=Ye((function(n){Ht(n),t.active&&t._reject(new ne.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Ye((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Qt.storagemutated.fire(e.mutatedParts)})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return ht(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new ne.TransactionInactive);if(this._locked())return new qe((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Ke])}));if(n)return nt((function(){var e=new qe((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new qe((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=qe.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new qe((function(e,r){n.then((function(n){return t._waitingQueue.push(Ye(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Ye(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(p(t,e))return t[e];var n=this.schema[e];if(!n)throw new ne.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function Zt(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+en(t)}}function en(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function tn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=n,o=function(e){return[e.name,e]},r.reduce((function(e,t,n){var r=o(t,n);return r&&(e[r[0]]=r[1]),e}),{}))};var r,o}var nn=function(e){try{return e.only([[]]),nn=function(){return[[]]},[[]]}catch(e){return nn=function(){return yt},yt}};function rn(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return k(t,e)}}(e):function(t){return k(t,e)}}function on(e){return[].slice.call(e)}var an=0;function un(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function cn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}var o=function(e,t){var n=on(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=c(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:rn(t)},indexes:on(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:c(o),keyPath:o,unique:n,multiEntry:r,extractKey:rn(o)};return i[un(o)]=a,a})),getIndexByKeyPath:function(e){return i[un(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[un(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,o=e.type,i=e.keys,a=e.values,u=e.range;return new Promise((function(e,c){e=Ye(e);var s=n.objectStore(t),l=null==s.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var p,h=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var y=[],d=[],v=0,m=function(e){++v,Ht(e)};if("deleteRange"===o){if(4===u.type)return e({numFailures:v,failures:d,results:[],lastResult:void 0});3===u.type?y.push(p=s.clear()):y.push(p=s.delete(r(u)))}else{var g=f?l?[a,i]:[a,null]:[i,null],b=g[0],w=g[1];if(f)for(var _=0;_<h;++_)y.push(p=w&&void 0!==w[_]?s[o](b[_],w[_]):s[o](b[_])),p.onerror=m;else for(_=0;_<h;++_)y.push(p=s[o](b[_])),p.onerror=m}var x=function(t){var n=t.target.result;y.forEach((function(e,t){return null!=e.error&&(d[t]=e.error)})),e({numFailures:v,failures:d,results:"delete"===o?i:y.map((function(e){return e.result})),lastResult:n})};p.onerror=function(e){m(e),x(e)},p.onsuccess=x}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=Ye(e);for(var i,a=n.objectStore(t),u=r.length,c=new Array(u),s=0,l=0,f=function(t){var n=t.target;c[n._pos]=n.result,++l===s&&e(c)},p=Yt(o),h=0;h<u;++h){null!=r[h]&&((i=a.get(r[h]))._pos=h,i.onsuccess=f,i.onerror=p,++s)}0===s&&e(c)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=Ye(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=Yt(o)}))},query:function(e){return function(n){return new Promise((function(o,i){o=Ye(o);var a=n.trans,u=n.values,c=n.limit,s=n.query,l=c===1/0?void 0:c,f=s.index,p=s.range,h=a.objectStore(t),y=f.isPrimaryKey?h:h.index(f.name),d=r(p);if(0===c)return o({result:[]});if(e){var v=u?y.getAll(d,l):y.getAllKeys(d,l);v.onsuccess=function(e){return o({result:e.target.result})},v.onerror=Yt(i)}else{var m=0,g=u||!("openKeyCursor"in y)?y.openCursor(d):y.openKeyCursor(d),b=[];g.onsuccess=function(e){var t=g.result;return t?(b.push(u?t.value:t.primaryKey),++m===c?o({result:b}):void t.continue()):o({result:b})},g.onerror=Yt(i)}}))}}(a),openCursor:function(e){var n=e.trans,o=e.values,i=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,c){e=Ye(e);var s=i.index,l=i.range,f=n.objectStore(t),p=s.isPrimaryKey?f:f.index(s.name),h=a?u?"prevunique":"prev":u?"nextunique":"next",y=o||!("openKeyCursor"in p)?p.openCursor(r(l),h):p.openKeyCursor(r(l),h);y.onerror=Yt(c),y.onsuccess=Ye((function(t){var r=y.result;if(r){r.___id=++an,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Ye(c),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Ye(e),y.onerror=Yt(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(y.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return y.onsuccess=Ye((function(e){y.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),c)}))},count:function(e){var n=e.query,o=e.trans,i=n.index,a=n.range;return new Promise((function(e,n){var u=o.objectStore(t),c=i.isPrimaryKey?u:u.index(i.name),s=r(a),l=s?c.count(s):c.count();l.onsuccess=Ye((function(t){return e(t.target.result)})),l.onerror=Yt(n)}))}}}(e)})),s={};return u.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:nn(t),schema:i}}function sn(e,t,n,r){var i=n.IDBKeyRange;return n.indexedDB,{dbcore:function(e,t){return t.reduce((function(e,t){var n=t.create;return o(o({},e),n(e))}),e)}(cn(t,i,r),e.dbcore)}}function ln(e,t){var n=t.db,r=sn(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function fn(e,t,n,r){n.forEach((function(n){var o=r[n];t.forEach((function(t){var r=g(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?d(t,n,{get:function(){return this.table(n)},set:function(e){y(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function pn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function hn(e,t){return e._cfg.version-t._cfg.version}function yn(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),c=Ke.transless||Ke;nt((function(){Ke.trans=i,Ke.transless=c,0===t?(u(o).forEach((function(e){vn(n,e,o[e].primKey,o[e].indexes)})),ln(e,n),qe.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=[],i=e._versions,a=e._dbSchema=gn(e,e.idbdb,r),c=!1;function s(){return o.length?qe.resolve(o.shift()(n.idbtrans)).then(s):qe.resolve()}return i.filter((function(e){return e._cfg.version>=t})).forEach((function(i){o.push((function(){var o=a,s=i._cfg.dbschema;bn(e,o,r),bn(e,s,r),a=e._dbSchema=s;var l=dn(o,s);l.add.forEach((function(e){vn(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return mn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),mn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var f=i._cfg.contentUpgrade;if(f&&i._cfg.version>t){ln(e,r),n._memoizedTables={},c=!0;var p=P(s);l.del.forEach((function(e){p[e]=o[e]})),pn(e,[e.Transaction.prototype]),fn(e,[e.Transaction.prototype],u(p),p),n.schema=p;var h,y=N(f);y&&rt();var d=qe.follow((function(){if((h=f(n))&&y){var e=ot.bind(null,null);h.then(e,e)}}));return h&&"function"==typeof h.then?qe.resolve(h):d.then((function(){return h}))}})),o.push((function(t){c&&gt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(i._cfg.dbschema,t);pn(e,[e.Transaction.prototype]),fn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),s().then((function(){var e,t;t=r,u(e=a).forEach((function(n){t.db.objectStoreNames.contains(n)||vn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}function dn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!mt)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,c=i.idxByName,s=void 0;for(s in u)c[s]||a.del.push(s);for(s in c){var l=u[s],f=c[s];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function vn(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return mn(o,e)})),o}function mn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function gn(e,t,n){var r={};return w(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=Zt(en(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<t.indexNames.length;++u){var c=t.index(t.indexNames[u]);o=c.keyPath;var s=Zt(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(s)}r[e]=tn(e,i,a)})),r}function bn(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],u=n.objectStore(i);e._hasGetAll="getAll"in u;for(var c=0;c<u.indexNames.length;++c){var s=u.indexNames[c],l=u.index(s).keyPath,f="string"==typeof l?l:"["+w(l).join("+")+"]";if(t[i]){var p=t[i].idxByName[f];p&&(p.name=s,delete t[i].idxByName[f],t[i].idxByName[s]=p)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var wn,_n=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){u(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Zt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),c(r),0===t)})),o=r.shift();if(o.multi)throw new ne.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")})),t[n]=tn(n,o,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){s(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,pn(t,[t._allTables,t,t.Transaction.prototype]),fn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],u(o),o),t._storeNames=u(o),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=he(this._cfg.contentUpgrade||ie,e),this},e}();function xn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new fr("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function On(e){return e&&"function"==typeof e.databases}function kn(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!On(n)&&"__dbnames"!==t&&xn(n,r).delete(t).catch(ie)}function En(e){return nt((function(){return Ke.letThrough=!0,e()}))}function Pn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function An(e){return!("from"in e)}var Sn=function(e,t){if(!this){var n=new Sn;return e&&"d"in e&&s(n,e),n}s(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function jn(e,t,n){var r=Et(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(An(e))return s(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(Et(n,e.from)<0)return o?jn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Tn(e);if(Et(t,e.to)>0)return i?jn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Tn(e);Et(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Et(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;o&&!e.l&&In(e,o),i&&a&&In(e,i)}}function In(e,t){An(t)||function e(t,n){var r=n.from,o=n.to,i=n.l,a=n.r;jn(t,r,o),i&&e(t,i),a&&e(t,a)}(e,t)}function Kn(e,t){var n=Cn(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=Cn(e),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(Et(u.from,o.to)<=0&&Et(u.to,o.from)>=0)return!0;Et(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}function Cn(e){var t=An(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Et(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Et(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Tn(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a="r"===i?"l":"r",u=o({},e),c=e[i];e.from=c.from,e.to=c.to,e[i]=c[i],u[i]=c[a],e[a]=u,u.d=Dn(u)}e.d=Dn(e)}function Dn(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function qn(e,t){return u(t).forEach((function(n){e[n]?In(e[n],t[n]):e[n]=function e(t){var n={};for(var r in t)if(p(t,r)){var o=t[r];n[r]=!o||"object"!=typeof o||I.has(o.constructor)?o:e(o)}return n}(t[n])})),e}function Fn(e,t){return Object.keys(e).some((function(n){return t[n]&&Kn(t[n],e[n])}))}h(Sn.prototype,((wn={add:function(e){return In(this,e),this},addKey:function(e){return jn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return jn(t,e,e)})),this}})[q]=function(){return Cn(this)},wn));var Rn={},Bn={},Mn=!1;function Nn(e){qn(Bn,e),Mn||(Mn=!0,queueMicrotask((function(){Mn=!1;var e=Bn;Bn={},Un(e)})))}function Un(e,t){void 0===t&&(t=!1);var n=new Set;for(var r in e){var o=/^idb\:\/\/(.*)\/(.*)\//.exec(r);if(o){var i=o[1],a=o[2],u=Rn["idb://".concat(i,"/").concat(a)];u&&zn(u,e,n,t)}}n.forEach((function(e){return e()}))}function zn(e,t,n,r){for(var o=r&&[],i=0,a=Object.entries(e.queries.query);i<a.length;i++){for(var u=a[i],c=u[0],s=r&&[],l=0,f=u[1];l<f.length;l++){var p=f[l];p.obsSet&&Fn(t,p.obsSet)?p.subscribers.forEach((function(e){return n.add(e)})):r&&s.push(p)}r&&o.push([c,s])}if(r)for(var h=0,y=o;h<y.length;h++){var d=y[h];c=d[0],s=d[1];e.queries.query[c]=s}}function Ln(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?ht(t.dbOpenError):e}));U&&(t.openCanceller._stackHolder=V()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new ne.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,a=null,c=!1;return qe.race([r,("undefined"==typeof navigator?qe.resolve():Pn()).then((function(){return new qe((function(r,i){if(o(),!n)throw new ne.MissingAPI;var s=e.name,l=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!l)throw new ne.MissingAPI;l.onerror=Yt(i),l.onblocked=Ye(e._fireOnBlocked),l.onupgradeneeded=Ye((function(r){if(a=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=Ht,a.abort(),l.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=Ye((function(){i(new ne.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{a.onerror=Yt(i);var u=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;c=u<1,e.idbdb=l.result,yn(e,u/10,a,i)}}),i),l.onsuccess=Ye((function(){a=null;var n,o=e.idbdb=l.result,i=w(o.objectStoreNames);if(i.length>0)try{var f=o.transaction(1===(n=i).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=gn(0,t,n);e._storeNames=w(t.objectStoreNames,0),fn(e,[e._allTables],u(r),r)}(e,o,f):(bn(e,e._dbSchema,f),function(e,t){var n=dn(gn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,f)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ln(e,f)}catch(e){}vt.push(e),o.onversionchange=Ye((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),o.onclose=Ye((function(t){e.on("close").fire(t)})),c&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!On(n)&&"__dbnames"!==t&&xn(n,r).put({name:t}).catch(ie)}(e._deps,s),r()}),i)}))}))]).then((function(){return o(),t.onReadyBeingFired=[],qe.resolve(En((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(he,ie);return t.onReadyBeingFired=[],qe.resolve(En((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(n){t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),ht(n)})).finally((function(){t.openComplete=!0,i()})).then((function(){if(c){var t={};e.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new Sn(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new Sn(-1/0,[[[]]])})),Qt("storagemutated").fire(t),Un(t,!0)}return e}))}function $n(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):c(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function Vn(e,t,n){var r=arguments.length;if(r<2)throw new ne.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=S(o);return[e,i,n]}function Wn(e,t,n,r,o){return qe.resolve().then((function(){var i=Ke.transless||Ke,a=e._createTransaction(t,n,e._dbSchema,r);a.explicit=!0;var u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===ee.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return Wn(e,t,n,null,o)}))):ht(r)}var c,s=N(o);s&&rt();var l=qe.follow((function(){if(c=o.call(a,a))if(s){var e=ot.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=$n(c))}),u);return(c&&"function"==typeof c.then?qe.resolve(c).then((function(e){return a.active?e:ht(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return c}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),ht(e)}))}))}function Gn(e,t,n){for(var r=c(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var Jn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return o(o({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function u(e,t,n){var r=un(e),c=i[r]=i[r]||[],s=null==e?0:"string"==typeof e?1:e.length,l=t>0,f=o(o({},n),{name:l?"".concat(r,"(virtual-from:").concat(n.name,")"):n.name,lowLevelIndex:n,isVirtual:l,keyTail:t,keyLength:s,extractKey:rn(e),unique:!l&&n.unique});(c.push(f),f.isPrimaryKey||a.push(f),s>1)&&u(2===s?e[0]:e.slice(0,s-1),t+1,n);return c.sort((function(e,t){return e.keyTail-t.keyTail})),f}var c=u(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[c];for(var s=0,l=r.indexes;s<l.length;s++){var f=l[s];u(f.keyPath,0,f)}function p(t){var n,r,i=t.query.index;return i.isVirtual?o(o({},t),{query:{index:i.lowLevelIndex,range:(n=t.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:Gn(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Gn(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}return o(o({},n),{schema:o(o({},r),{primaryKey:c,indexes:a,getIndexByKeyPath:function(e){var t=i[un(e)];return t&&t[0]}}),count:function(e){return n.count(p(e))},query:function(e){return n.query(p(e))},openCursor:function(t){var r=t.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;if(!i)return n.openCursor(t);return n.openCursor(p(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Gn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Gn(t,e.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}(n)}))}})}})}};function Yn(e,t,n,r){return n=n||{},r=r||"",u(e).forEach((function(o){if(p(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=D(i);u!==D(a)?n[r+o]=t[o]:"Object"===u?Yn(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),u(t).forEach((function(o){p(e,o)||(n[r+o]=t[o])})),n}function Hn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Qn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return o(o({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return o(o({},n),{mutate:function(e){var a=Ke.trans,u=a.table(t).hook,c=u.deleting,s=u.creating,l=u.updating;switch(e.type){case"add":if(s.fire===ie)break;return a._promise("readwrite",(function(){return f(e)}),!0);case"put":if(s.fire===ie&&l.fire===ie)break;return a._promise("readwrite",(function(){return f(e)}),!0);case"delete":if(c.fire===ie)break;return a._promise("readwrite",(function(){return f(e)}),!0);case"deleteRange":if(c.fire===ie)break;return a._promise("readwrite",(function(){return function(e){return function e(t,i,a){return n.query({trans:t,values:!1,query:{index:r,range:i},limit:a}).then((function(n){var r=n.result;return f({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(t,o(o({},i),{lower:r[r.length-1],lowerOpen:!0}),a)}))}))}(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function f(e){var t=Ke.trans,a=e.keys||Hn(r,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?o(o({},e),{keys:a}):o({},e)).type&&(e.values=i([],e.values,!0)),e.keys&&(e.keys=i([],e.keys,!0)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,a).then((function(o){var i=a.map((function(n,i){var a=o[i],u={onerror:null,onsuccess:null};if("delete"===e.type)c.fire.call(u,n,a,t);else if("add"===e.type||void 0===a){var f=s.fire.call(u,n,e.values[i],t);null==n&&null!=f&&(n=f,e.keys[i]=n,r.outbound||E(e.values[i],r.keyPath,n))}else{var h=Yn(a,e.values[i]),y=l.fire.call(u,h,n,a,t);if(y){var d=e.values[i];Object.keys(y).forEach((function(e){p(d,e)?d[e]=y[e]:E(d,e,y[e])}))}}return u}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,u=t.numFailures,c=t.lastResult,s=0;s<a.length;++s){var l=r?r[s]:a[s],f=i[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===e.type&&o[s]?e.values[s]:l)}return{failures:n,results:r,numFailures:u,lastResult:c}})).catch((function(e){return i.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function Xn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===Et(t.keys[o],e[i])&&(r.push(n?C(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}var Zn={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return o(o({},n),{getMany:function(e){if(!e.cache)return n.getMany(e);var t=Xn(e.keys,e.trans._cache,"clone"===e.cache);return t?qe.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?C(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function er(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function tr(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var nr={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new Sn(e.MIN_KEY,e.MAX_KEY);return o(o({},e),{transaction:function(t,n,r){if(Ke.subscr&&"readonly"!==n)throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ke.querier));return e.transaction(t,n,r)},table:function(r){var i=e.table(r),a=i.schema,s=a.primaryKey,l=s.extractKey,f=s.outbound,p=o(o({},i),{mutate:function(e){var o=e.trans,u=e.mutatedParts||(e.mutatedParts={}),l=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return u[n]||(u[n]=new Sn)},f=l(""),p=l(":dels"),h=e.type,y="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[Hn(s,e).filter((function(e){return e})),e.values]:[],d=y[0],v=y[1],m=e.trans._cache;if(c(d)){f.addKeys(d);var g="delete"===h||d.length===v.length?Xn(d,m):null;g||"add"===h||p.addKeys(d),(g||v)&&function(e,t,n,r){t.indexes.forEach((function(t){var o=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}var a=function(e){return t.multiEntry&&c(e)?e.forEach((function(e){return o.addKey(e)})):o.addKey(e)};(n||r).forEach((function(e,t){var o=n&&i(n[t]),u=r&&i(r[t]);0!==Et(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}))}(l,a,g,v)}else if(d){var b={from:d.lower,to:d.upper};p.add(b),f.add(b)}else f.add(n),p.add(n),a.indexes.forEach((function(e){return l(e.name).add(n)}));return i.mutate(e).then((function(t){return!d||"add"!==e.type&&"put"!==e.type||f.addKeys(t.results),o.mutatedParts=qn(o.mutatedParts||{},u),t}))}}),h=function(t){var n,r,o=t.query,i=o.index,a=o.range;return[i,new Sn(null!==(n=a.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:e.MAX_KEY)]},y={get:function(e){return[s,new Sn(e.key)]},getMany:function(e){return[s,(new Sn).addKeys(e.keys)]},count:h,query:h,openCursor:h};return u(y).forEach((function(e){p[e]=function(a){var u=Ke.subscr,c=!!u,s=er(Ke,i)&&tr(e,a),p=s?a.obsSet={}:u;if(c){var h=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return p[n]||(p[n]=new Sn)},d=h(""),v=h(":dels"),m=y[e](a),g=m[0],b=m[1];if(h(g.name||"").add(b),!g.isPrimaryKey){if("count"!==e){var w="query"===e&&f&&a.values&&i.query(o(o({},a),{values:!1}));return i[e].apply(this,arguments).then((function(t){if("query"===e){if(f&&a.values)return w.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=a.values?t.result.map(l):t.result;a.values?d.addKeys(n):v.addKeys(n)}else if("openCursor"===e){var r=t,o=a.values;return r&&Object.create(r,{key:{get:function(){return v.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return v.addKey(e),e}},value:{get:function(){return o&&d.addKey(r.primaryKey),r.value}}})}return t}))}v.add(n)}}return i[e].apply(this,arguments)}})),p}})}};function rr(e,t){return function(e,t){return void 0===t.lower||(t.lowerOpen?Et(e,t.lower)>0:Et(e,t.lower)>=0)}(e,t)&&function(e,t){return void 0===t.upper||(t.upperOpen?Et(e,t.upper)<0:Et(e,t.upper)<=0)}(e,t)}function or(e,t,n,r,o,i){if(!n||0===n.length)return e;var a=t.query.index,u=r.schema.primaryKey.extractKey,c=a.extractKey,s=(a.lowLevelIndex||a).extractKey,l=n.reduce((function(e,n){var r=e,o="add"===n.type||"put"===n.type?n.values.filter((function(e){return rr(c(e),t.query.range)})).map((function(e){return e=C(e),i&&Object.freeze(e),e})):[];switch(n.type){case"add":r=e.concat(t.values?o:o.map((function(e){return u(e)})));break;case"put":var a=(new Sn).addKeys(n.values.map((function(e){return u(e)})));r=e.filter((function(e){var n=t.values?u(e):e;return!Kn(new Sn(n),a)})).concat(t.values?o:o.map((function(e){return u(e)})));break;case"delete":var s=(new Sn).addKeys(n.keys);r=e.filter((function(e){var n=t.values?u(e):e;return!Kn(new Sn(n),s)}));break;case"deleteRange":var l=n.range;r=e.filter((function(e){return!rr(u(e),l)}))}return r}),e);return l===e?e:(l.sort((function(e,t){return Et(s(e),s(t))||Et(u(e),u(t))})),t.limit&&t.limit<1/0&&(l.length>t.limit?l.length=t.limit:e.length===t.limit&&l.length<t.limit&&(o.dirty=!0)),i?Object.freeze(l):l)}function ir(e,t){return 0===Et(e.lower,t.lower)&&0===Et(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function ar(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;var o=Et(e,t);if(0===o){if(n&&r)return 0;if(n)return 1;if(r)return-1}return o}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;var o=Et(e,t);if(0===o){if(n&&r)return 0;if(n)return-1;if(r)return 1}return o}(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function ur(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",(function(){e.subscribers.delete(n),0===e.subscribers.size&&function(e,t){setTimeout((function(){0===e.subscribers.size&&R(t,e)}),3e3)}(e,t)}))}var cr={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return o(o({},e),{transaction:function(n,r,o){var i=e.transaction(n,r,o);if("readwrite"===r){var a=new AbortController,u=a.signal,c=function(o){return function(){if(a.abort(),"readwrite"===r){for(var u=new Set,c=0,s=n;c<s.length;c++){var l=s[c],f=Rn["idb://".concat(t,"/").concat(l)],p=e.table(l);if(f){var h=f.optimisticOps.filter((function(e){return e.trans===i}));if(h.length>0){f.optimisticOps=f.optimisticOps.filter((function(e){return e.trans!==i}));for(var y=0,d=Object.values(f.queries.query);y<d.length;y++)for(var v=d[y],m=0,g=v.slice();m<g.length;m++){var b=g[m];if(null!=b.res&&i.mutatedParts)if(o&&!b.dirty){var w=Object.isFrozen(b.res),_=or(b.res,b.req,h,p,b,w);b.dirty?(R(v,b),b.subscribers.forEach((function(e){return u.add(e)}))):_!==b.res&&(b.res=_,b.promise=qe.resolve({result:_}))}else b.dirty&&R(v,b),b.subscribers.forEach((function(e){return u.add(e)}))}}}}u.forEach((function(e){return e()}))}}};i.addEventListener("abort",c(!1),{signal:u}),i.addEventListener("error",c(!1),{signal:u}),i.addEventListener("complete",c(!0),{signal:u})}return i},table:function(n){var r=e.table(n),i=r.schema.primaryKey;return o(o({},r),{mutate:function(e){if(i.outbound||"disabled"===Ke.trans.db._options.cache)return r.mutate(e);var a=Rn["idb://".concat(t,"/").concat(n)];if(!a)return r.mutate(e);var u=r.mutate(e);return"add"!==e.type&&"put"!==e.type||!(e.values.length>=50||Hn(i,e).some((function(e){return null==e})))?(a.optimisticOps.push(e),Nn(e.mutatedParts),u.catch((function(){R(a.optimisticOps,e),Nn(e.mutatedParts)}))):u.then((function(t){var n=o(o({},e),{values:e.values.map((function(e,n){var r=i.keyPath.includes(".")?C(e):o({},e);return E(r,i.keyPath,t.results[n]),r}))});a.optimisticOps.push(n),queueMicrotask((function(){return Nn(e.mutatedParts)}))})),u},query:function(e){if(!er(Ke,r)||!tr("query",e))return r.query(e);var o="immutable"===Ke.trans.db._options.cache,i=Ke,a=i.requery,u=i.signal,c=function(e,t,n,r){var o=Rn["idb://".concat(e,"/").concat(t)];if(!o)return[];var i=o.queries[n];if(!i)return[null,!1,o,null];var a=i[(r.query?r.query.index.name:null)||""];if(!a)return[null,!1,o,null];switch(n){case"query":var u=a.find((function(e){return e.req.limit===r.limit&&e.req.values===r.values&&ir(e.req.query.range,r.query.range)}));return u?[u,!0,o,a]:[a.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&ar(e.req.query.range,r.query.range)})),!1,o,a];case"count":var c=a.find((function(e){return ir(e.req.query.range,r.query.range)}));return[c,!!c,o,a]}}(t,n,"query",e),s=c[0],l=c[1],f=c[2],p=c[3];if(s&&l)s.obsSet=e.obsSet;else{var h=r.query(e).then((function(e){var t=e.result;if(s.res=t,o){for(var n=0,r=t.length;n<r;++n)Object.freeze(t[n]);Object.freeze(t)}else e.result=C(t);return e})).catch((function(e){return p&&s&&R(p,s),Promise.reject(e)}));s={obsSet:e.obsSet,promise:h,subscribers:new Set,type:"query",req:e,dirty:!1},p?p.push(s):(p=[s],f||(f=Rn["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),f.queries.query[e.query.index.name||""]=p)}return ur(s,p,a,u),s.promise.then((function(t){return{result:or(t.result,e,null==f?void 0:f.optimisticOps,r,s,o)}}))}})}})}};function sr(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var lr,fr=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=o({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ie,dbReadyPromise:null,cancelOpen:ie,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};c.dbReadyPromise=new qe((function(e){c.dbReadyResolve=e})),c.openCanceller=new qe((function(e,t){c.cancelOpen=t})),this._state=c,this.name=t,this.on=jt(this,"populate","blocked","versionchange","close",{ready:[he,ie]}),this.on.ready.subscribe=_(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||qe.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(u=this,It(Bt.prototype,(function(e,t){this.db=u;var n=xt,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==ae?a:null}}))),this.Table=function(e){return It(St.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:jt(null,{creating:[se,ie],reading:[ue,ae],updating:[fe,ie],deleting:[le,ie]})}))}(this),this.Transaction=function(e){return It(Xt.prototype,(function(t,n,r,o,i){var a=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=jt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new qe((function(e,t){a._resolve=e,a._reject=t})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),ht(e)}))}))}(this),this.Version=function(e){return It(_n.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return It(Jt.prototype,(function(t,n,r){if(this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r},this._cmp=this._ascending=Et,this._descending=function(e,t){return Et(t,e)},this._max=function(e,t){return Et(e,t)>0?e:t},this._min=function(e,t){return Et(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1}),r._state.openComplete=!1})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=nn(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),vt.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Zn),this.use(cr),this.use(nr),this.use(Jn),this.use(Qn);var s=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return sr(r.table(e),s)};var o=Reflect.get(e,t,n);return o instanceof St?sr(o,s):"tables"===t?o.map((function(e){return sr(e,s)})):"_createTransaction"===t?function(){var e=o.apply(this,arguments);return sr(e,s)}:o}});this.vip=s,a.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ne.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(hn),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?e():new qe((function(e,n){if(t._state.openComplete)return n(new ne.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new ne.DatabaseClosed);t.open().catch(ie)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){var e=this;return lt(Ie,(function(){return Ln(e)}))},e.prototype._close=function(){var e=this._state,t=vt.indexOf(this);if(t>=0&&vt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}e.dbReadyPromise=new qe((function(t){e.dbReadyResolve=t})),e.openCanceller=new qe((function(t,n){e.cancelOpen=n}))},e.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;this._close();var n=this._state;t&&(this._options.autoOpen=!1),n.dbOpenError=new ne.DatabaseClosed,n.isBeingOpened&&n.cancelOpen(n.dbOpenError)},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new qe((function(r,o){var i=function(){e.close({disableAutoOpen:!1});var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Ye((function(){kn(e._deps,e.name),r()})),t.onerror=Yt(o),t.onblocked=e._fireOnBlocked};if(t)throw new ne.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return u(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var e=Vn.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,o=Ke.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ne.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!u)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!u)throw new ne.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):ht(e)}var c=Wn.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Ke.trans?lt(Ke.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},e.prototype.table=function(e){if(!p(this._allTables,e))throw new ne.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},e}(),pr="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",hr=function(){function e(e){this._subscribe=e}return e.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},e.prototype[pr]=function(){return this},e}();try{lr={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(e){lr={indexedDB:null,IDBKeyRange:null}}var yr=fr;function dr(e){var t=vr;try{vr=!0,Qt.storagemutated.fire(e),Un(e,!0)}finally{vr=t}}h(yr,o(o({},oe),{delete:function(e){return new yr(e,{addons:[]}).delete()},exists:function(e){return new yr(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return On(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):xn(t,n).toCollection().primaryKeys()}(yr.dependencies).then(e)}catch(e){return ht(new ne.MissingAPI)}},defineClass:function(){return function(e){s(this,e)}},ignoreTransaction:function(e){return Ke.trans?lt(Ke.transless,e):e()},vip:En,async:function(e){return function(){try{var t=$n(e.apply(this,arguments));return t&&"function"==typeof t.then?t:qe.resolve(t)}catch(e){return ht(e)}}},spawn:function(e,t,n){try{var r=$n(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:qe.resolve(r)}catch(e){return ht(e)}},currentTransaction:{get:function(){return Ke.trans||null}},waitFor:function(e,t){var n=qe.resolve("function"==typeof e?yr.ignoreTransaction(e):e).timeout(t||6e4);return Ke.trans?Ke.trans.waitFor(n):n},Promise:qe,debug:{get:function(){return U},set:function(e){z(e,"dexie"===e?function(){return!0}:wt)}},derive:v,extend:s,props:h,override:_,Events:jt,on:Qt,liveQuery:function(e){var t,n=!1,r=new hr((function(r){var o=N(e);var i,a=!1,u={},c={},s={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),l&&Qt.storagemutated.unsubscribe(f))}};r.start&&r.start(s);var l=!1;var f=function(e){qn(u,e),Fn(c,u)&&h()},h=function(){if(!a&&lr.indexedDB){u={};var s={};i&&i.abort(),i=new AbortController;var y={subscr:s,signal:i.signal,requery:h,querier:e,trans:null},d=function(t){var n=Ve();try{o&&rt();var r=nt(e,t);return o&&r.finally(ot),r}finally{n&&We()}}(y);Promise.resolve(d).then((function(e){n=!0,t=e,a||y.signal.aborted||(u={},function(e){for(var t in e)if(p(e,t))return!1;return!0}(c=s)||l||(Qt("storagemutated",f),l=!0),r.next&&r.next(e))}),(function(e){if(n=!1,!["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)){if(a)return;r.error&&r.error(e)}}))}};return h(),s}));return r.hasValue=function(){return n},r.getValue=function(){return t},r},extendObservabilitySet:qn,getByKeyPath:k,setByKeyPath:E,delByKeyPath:function(e,t){"string"==typeof t?E(e,t,void 0):"length"in t&&[].map.call(t,(function(t){E(e,t,void 0)}))},shallowClone:P,deepClone:C,getObjectDiff:Yn,cmp:Et,asap:O,minKey:-1/0,addons:[],connections:vt,errnames:ee,dependencies:lr,cache:Rn,semVer:"4.0.1-alpha.25",version:"4.0.1-alpha.25".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),yr.maxKey=nn(yr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Qt("storagemutated",(function(e){var t;vr||(mt?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),vr=!0,dispatchEvent(t),vr=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;vr||dr(t)})));var vr=!1;if("undefined"!=typeof BroadcastChannel){var mr=new BroadcastChannel("x-storagemutated-1");"function"==typeof mr.unref&&mr.unref(),Qt("storagemutated",(function(e){vr||mr.postMessage(e)})),mr.onmessage=function(e){e.data&&dr(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Qt("storagemutated",(function(e){try{vr||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&i([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach((function(t){return t.postMessage({type:"x-storagemutated-1",changedParts:e})})))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(e){if("x-storagemutated-1"===e.key){var t=JSON.parse(e.newValue);t&&dr(t.changedParts)}}));var gr=self.document&&navigator.serviceWorker;gr&&gr.addEventListener("message",(function(e){var t=e.data;t&&"x-storagemutated-1"===t.type&&dr(t.changedParts)}))}qe.rejectionMapper=function(e,t){if(!e||e instanceof H||e instanceof TypeError||e instanceof SyntaxError||!e.name||!re[e.name])return e;var n=new re[e.name](t||e.message,e);return"stack"in e&&d(n,"stack",{get:function(){return this.inner.stack}}),n},z(U,wt)},function(e,t,n){"use strict";(function(t){var r=n(10)();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(20),u=Object.prototype.hasOwnProperty,c=Array.prototype.slice,s="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=g,h=/\s*function\s+([^\(\s]*)\s*/;function y(e){if(a.isFunction(e)){if(s)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(s||!a.isFunction(e))return a.inspect(e);var t=y(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,o){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function g(e,t){e||m(e,!0,t,"==",p.ok)}function b(e,t,n,r){if(e===t)return!0;if(i(e)&&i(t))return 0===o(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=w(e),i=w(t);if(o&&!i||!o&&i)return!1;if(o)return e=c.call(e),t=c.call(t),b(e,t,n);var u,s,l=O(e),f=O(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),s=l.length-1;s>=0;s--)if(l[s]!==f[s])return!1;for(s=l.length-1;s>=0;s--)if(u=l[s],!b(e[u],t[u],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&m(o,n,"Missing expected exception"+r);var i="string"==typeof r,u=!e&&o&&!n;if((!e&&a.isError(o)&&i&&_(o,n)||u)&&m(o,n,"Got unwanted exception"+r),e&&o&&n&&!_(o,n)||!e&&o)throw o}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return d(v(e.actual),128)+" "+e.operator+" "+d(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=y(t),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(p.AssertionError,Error),p.fail=m,p.ok=g,p.equal=function(e,t,n){e!=t&&m(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){x(!0,e,t,n)},p.doesNotThrow=function(e,t,n){x(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r((function e(t,n){t||m(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var O=Object.keys||function(e){var t=[];for(var n in e)u.call(e,n)&&t.push(n);return t}}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(11);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},function(e,t,n){"use strict";var r=n(12),o=n(5)(),i=n(14),a=Object,u=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),s=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=a(e);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var l=a(arguments[i]),f=r(l),p=o&&(Object.getOwnPropertySymbols||s);if(p)for(var h=p(l),y=0;y<h.length;++y){var d=h[y];c(l,d)&&u(f,d)}for(var v=0;v<f.length;++v){var m=f[v];if(c(l,m)){var g=l[m];n[m]=g}}}return n}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(4),i=Object.keys,a=i?function(e){return i(e)}:n(13),u=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?u(r.call(e)):u(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(4),u=Object.prototype.propertyIsEnumerable,c=!u.call({toString:null},"toString"),s=u.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),u=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var y=s&&n;if(u&&e.length>0&&!o.call(e,0))for(var d=0;d<e.length;++d)p.push(String(d));if(r&&e.length>0)for(var v=0;v<e.length;++v)p.push(String(v));else for(var m in e)y&&"prototype"===m||!o.call(e,m)||p.push(String(m));if(c)for(var g=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)g&&"constructor"===l[b]||!o.call(e,l[b])||p.push(l[b]);return p}}e.exports=r},function(e,t,n){"use strict";var r=n(6),o=n(19),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(5);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(e,t,n){"use strict";var r={foo:{}},o=Object;e.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(r+t);for(var n,a=o.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,t.length-a.length),s=[],l=0;l<c;l++)s.push("$"+l);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){"use strict";var r=n(3);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(3),o=n(6),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),s=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=u(r,a,arguments);if(c&&s){var n=c(t,"length");n.configurable&&s(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return u(r,i,arguments)};s?s(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])d(c)||!w(c)?a+=" "+c:a+=" "+u(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function u(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function s(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return m(o)||(o=l(e,o,r)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),u=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(O(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var s,w="",k=!1,E=["{","}"];(h(n)&&(k=!0,E=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==a.length||k&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),s=k?function(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)S(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,u,a):a.map((function(t){return p(e,n,r,u,t,k)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(s,w,E)):E[0]+w+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),S(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=d(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function d(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===k(e)}function x(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function O(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=y,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=b,t.isObject=w,t.isDate=_,t.isError=x,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(22);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(23),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=j,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(I,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(21))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&h())}function h(){if(!l){var e=u(p);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new y(e,t)),1!==s.length||l||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}]]);